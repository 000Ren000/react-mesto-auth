{"ast":null,"code":"import { key } from './utils.js';\n\nclass Api {\n  constructor(option) {\n    this._baseURL = option.baseURL;\n    this._headers = option.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) return res.json();else return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return '';\n  }\n\n  getProfileinfo() {\n    return fetch(this._baseURL + '/users/me', {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => this._checkResponse(res)).then(data => data);\n  }\n\n  getCardInfo() {\n    return fetch(this._baseURL + '/cards', {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => this._checkResponse(res));\n  }\n\n  setProfileInfo(_ref) {\n    let {\n      name,\n      about\n    } = _ref;\n    return fetch(this._baseURL + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"name\": name,\n        \"about\": about\n      })\n    }).then(res => this._checkResponse(res));\n  }\n\n  changeAvatar(avatar) {\n    return fetch(this._baseURL + `/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"avatar\": avatar\n      })\n    }).then(res => this._checkResponse(res));\n  }\n\n  setNewCardInfo(_ref2) {\n    let {\n      name,\n      link\n    } = _ref2;\n    return fetch(this._baseURL + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"name\": name,\n        \"link\": link\n      })\n    }).then(res => this._checkResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(this._baseURL + `/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._checkResponse(res));\n  }\n\n  likedCard(cardId) {\n    return fetch(this._baseURL + `/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => this._checkResponse(res));\n  }\n\n  unlikedCard(cardId) {\n    return fetch(this._baseURL + `/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._checkResponse(res));\n  }\n\n} // Создание Апи\n\n\nexport const api = new Api({\n  baseURL: 'https://nomoreparties.co/v1/cohort-41',\n  headers: key\n});","map":{"version":3,"names":["key","Api","constructor","option","_baseURL","baseURL","_headers","headers","_checkResponse","res","ok","json","Promise","reject","status","getUserInfo","getProfileinfo","fetch","method","then","data","getCardInfo","setProfileInfo","name","about","body","JSON","stringify","changeAvatar","avatar","setNewCardInfo","link","deleteCard","cardId","likedCard","unlikedCard","api"],"sources":["/Users/antonfondov/Ya_Project/mesto-react/src/utils/Api.js"],"sourcesContent":["import {key} from './utils.js';\nclass Api {\n  constructor(option) {\n    this._baseURL = option.baseURL;\n    this._headers = option.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) return res.json();\n    else return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return '';\n  }\n  getProfileinfo() {\n    return fetch(this._baseURL+'/users/me', {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(res => this._checkResponse(res)).then(data => data)\n  }\n\n  getCardInfo() {\n    return fetch(this._baseURL+'/cards', {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(res => this._checkResponse(res));\n  }\n\n  setProfileInfo({name, about}) {\n    return fetch(this._baseURL+'/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"name\": name,\n        \"about\": about\n      })\n    })\n      .then(res => this._checkResponse(res));\n  }\n\n  changeAvatar(avatar) {\n    return fetch(this._baseURL+`/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"avatar\": avatar,\n      })\n    }).then(res => this._checkResponse(res));\n  }\n\n  setNewCardInfo({name, link}) {\n    return fetch(this._baseURL+'/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"name\": name,\n        \"link\": link\n      })\n    })\n      .then(res => this._checkResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(this._baseURL+`/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._checkResponse(res));\n  }\n\n  likedCard(cardId) {\n    return fetch(this._baseURL+`/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => this._checkResponse(res));\n  }\n\n  unlikedCard(cardId) {\n    return fetch(this._baseURL+`/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._checkResponse(res));\n  }\n\n\n}\n\n\n// Создание Апи\nexport const api = new Api({\n  baseURL: 'https://nomoreparties.co/v1/cohort-41',\n  headers: key\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}